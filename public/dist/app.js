!function(){"use strict";angular.module("jivoxHack",["ui.router","toaster","ngAnimate","scDateTime"]).config(["$stateProvider","$urlRouterProvider",function(t,o){o.otherwise("/home");var e="src/";t.state("account",{url:"/user",templateUrl:e+"user/account/account.tpl",controller:"AccountController as account"}).state("account.login",{url:"/user/login",templateUrl:e+"user/account/login/login.tpl",controller:"LoginController as login"}).state("account.signup",{url:"/user/signup",templateUrl:e+"user/account/signup/signup.tpl",controller:"SignUpController as signup"}).state("account.logout",{url:"/user",templateUrl:e+"user/account/account.tpl",controller:"AccountController as account"}).state("profile",{url:"/user/profile",templateUrl:e+"user/profile/profile.tpl",controller:"ProfileController as profile"}).state("wishlist",{url:"/user/wishlist",templateUrl:e+"user/wishlist/wishlist.tpl",controller:"WishlistController as wishlist"}).state("order",{url:"/user/order",templateUrl:e+"user/order/order.tpl",controller:"OrderController as order"}).state("cart",{url:"/user/cart",templateUrl:e+"user/cart/cart.tpl",controller:"CartController as cart"}).state("home",{url:"/home",templateUrl:e+"home/home.tpl",controller:"HomeController as home"}).state("products",{url:"/products",templateUrl:e+"products/products.tpl",controller:"ProductController as product"})}])}(),function(){"use strict"}(function(){"use strict";angular.module("jivoxHack").controller("AccountController",["Account","$state","$window",function(t,o,e){var r=this;r.loggedin=t.isloggedIn(),console.log(t.isloggedIn()),r.logout=function(){t.logout(),r.loggedin=!1}}])})(),function(){"use strict";angular.module("jivoxHack").factory("Account",["$http","$window",function(t,o){function e(o){return t.post("/users",o)}function r(e){return t.post("/users/login",e).then(function(t){return console.log(t),u=t.data.token,i=t.data.id,o.localStorage.setItem("token",u),o.localStorage.setItem("user_id",i),t}).catch(function(t){console.log(t)})}function n(){return o.localStorage.clear()}function l(){return!(!a()||!s())}function c(){return t.get("/users")}function s(){return i=o.localStorage.getItem("user_id")}function a(){return u=o.localStorage.getItem("token")}var u=null,i=null;return{signUp:e,login:r,getUserNames:c,getUserId:s,getToken:a,isloggedIn:l,logout:n}}])}(),function(){"use strict";angular.module("jivoxHack").controller("LoginController",["Account","$state","$rootScope",function(t,o,e){var r=this;r.submit=function(){t.login({email:r.email,password:r.password}).then(function(){o.go("home")}).catch(function(t){console.log(t),r.Message=t})}}])}(),function(){"use strict";angular.module("jivoxHack").controller("SignUpController",["Account","$state",function(t,o){var e=this;e.message="",e.checkUserName=function(){t.getUserNames().then(function(t){if(t.data)if("[object Array]"===Object.prototype.toString.call(t.data.username)){var o=t.data.indexOf(e.email);o!==-1&&(e.message="You have already signed up....",e.enable=!1)}else e.message="",e.enable=!0;else e.enable=!0}).catch(function(t){console.log(t)})},e.submit=function(){console.log(e);var r={name:e.name,password:e.password,email:e.email};t.signUp(r).then(function(e){t.login({email:r.email,password:r.password}).then(function(){o.go("home")}).catch(function(t){console.log("During login!!"),console.log(t)})}).catch(function(t){console.log(t)})}}])}();